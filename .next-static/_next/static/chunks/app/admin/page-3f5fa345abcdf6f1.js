(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{74046:function(e,t,r){Promise.resolve().then(r.bind(r,50614))},50614:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(57437),s=r(2265),l=r(2615),n=r(44417);class d{getAuthHeaders(){let e=localStorage.getItem("adminToken");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}async savePuzzle(e,t){try{let r=await fetch((0,n.k)(l.Pn.ADMIN_PUZZLES),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({date:e,puzzle:t})}),a=await r.json();if(!r.ok)return console.error("Save puzzle failed:",r.status,r.statusText,a),{success:!1,error:a.error||"Server error: ".concat(r.status)};return a}catch(e){return console.error("AdminService.savePuzzle error:",e),{success:!1,error:e.message}}}async getPuzzlesRange(e,t){try{let r=await fetch((0,n.k)("".concat(l.Pn.ADMIN_PUZZLES,"?start=").concat(e,"&end=").concat(t)),{headers:this.getAuthHeaders()});return await r.json()}catch(e){throw console.error("AdminService.getPuzzlesRange error:",e),e}}async deletePuzzle(e){try{let t=await fetch((0,n.k)("".concat(l.Pn.ADMIN_PUZZLES,"?date=").concat(e)),{method:"DELETE",headers:this.getAuthHeaders()});return await t.json()}catch(e){throw console.error("AdminService.deletePuzzle error:",e),e}}async bulkUploadPuzzles(e){try{let t=await fetch((0,n.k)("".concat(l.Pn.ADMIN_PUZZLES,"/bulk")),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({puzzles:e})});return await t.json()}catch(e){throw console.error("AdminService.bulkUploadPuzzles error:",e),e}}async bulkImportPuzzles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let a=await fetch((0,n.k)("/api/admin/bulk-import"),{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({puzzles:e,startDate:t,overwrite:r})}),s=await a.json();if(!a.ok)return console.error("Bulk import failed:",a.status,a.statusText,s),{success:!1,error:s.error||"Server error: ".concat(a.status)};return s}catch(e){return console.error("AdminService.bulkImportPuzzles error:",e),{success:!1,error:e.message}}}}var o=new d;function i(e){let{initialPuzzle:t,onClose:r}=e,[n,d]=(0,s.useState)((null==t?void 0:t.date)||new Date().toISOString().split("T")[0]),[i,c]=(0,s.useState)((null==t?void 0:t.theme)||""),[u,m]=(0,s.useState)((null==t?void 0:t.puzzles)||[{emoji:"",answer:""},{emoji:"",answer:""},{emoji:"",answer:""},{emoji:"",answer:""}]),[g,x]=(0,s.useState)(!1),[h,y]=(0,s.useState)("");(0,s.useEffect)(()=>{t&&(d(t.date),c(t.theme||""),m(t.puzzles||[{emoji:"",answer:""},{emoji:"",answer:""},{emoji:"",answer:""},{emoji:"",answer:""}]),y(""))},[t]);let p=e=>{c(e.theme),m(e.puzzles.map(e=>({...e}))),y("Template loaded: "+e.name)},b=(e,t,r)=>{let a=[...u];a[e][t]="answer"===t?r.toUpperCase():r,m(a)},k=async e=>{e.preventDefault(),x(!0),y("");try{let e=await o.savePuzzle(n,{theme:i,puzzles:u.map(e=>({emoji:e.emoji.trim(),answer:e.answer.trim().toUpperCase()}))});e.success?(y("✅ Puzzle saved for ".concat(n)),r&&setTimeout(()=>r(),1500)):(y("❌ Failed to save puzzle: ".concat(e.error||"Unknown error")),console.error("Puzzle save failed:",e))}catch(e){y("❌ Error saving puzzle"),console.error("Save puzzle error:",e)}finally{x(!1)}};return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 h-full w-full",style:{minWidth:"1050px"},children:[t&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-sky-700 dark:text-sky-300",children:[t.theme?"Editing":"Creating"," puzzle for ",t.date]})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Quick Templates"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.sR.map(e=>(0,a.jsx)("button",{onClick:()=>p(e),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm",children:e.name},e.id))})]}),(0,a.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),(0,a.jsx)("input",{type:"date",value:n,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-plum focus:border-plum dark:bg-gray-700 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Theme"}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"e.g., Things found in a kitchen",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-plum focus:border-plum dark:bg-gray-700 dark:text-white",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Puzzle Pairs"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:'For multiple acceptable answers, separate with commas (e.g., "DONUT, DOUGHNUT")'}),(0,a.jsx)("div",{className:"space-y-4",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 w-8",children:["#",t+1]}),(0,a.jsx)("input",{type:"text",value:e.emoji,onChange:e=>b(t,"emoji",e.target.value),placeholder:"Emoji pair (e.g., \uD83C\uDF73\uD83D\uDD25)",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-plum focus:border-plum dark:bg-gray-700 dark:text-white",required:!0}),(0,a.jsx)("input",{type:"text",value:e.answer,onChange:e=>b(t,"answer",e.target.value),placeholder:"ANSWER (E.G., STOVE)",maxLength:30,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-plum focus:border-plum dark:bg-gray-700 dark:text-white uppercase",required:!0})]},t))})]}),h&&(0,a.jsx)("div",{className:"p-4 rounded-lg ".concat(h.startsWith("✅")?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":h.startsWith("❌")?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400"),children:h}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"← Back to Calendar"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{c(""),m([{emoji:"",answer:""},{emoji:"",answer:""},{emoji:"",answer:""},{emoji:"",answer:""}]),y("")},className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Clear"}),(0,a.jsx)("button",{type:"submit",disabled:g||!(i.trim()&&u.every(e=>e.emoji.trim().length>=1&&e.answer.trim().length>=2&&e.answer.trim().length<=30)),className:"px-6 py-2 bg-gradient-to-r from-plum to-peach text-white rounded-lg hover:shadow-lg transform hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Save Puzzle"})]})]})]})]})}var c=r(66474);let u={"01-01":"New Year's Day","01-15":"MLK Jr. Day","02-02":"Groundhog Day","02-14":"Valentine's Day","03-17":"St. Patrick's Day","04-01":"April Fool's Day","04-22":"Earth Day","05-05":"Cinco de Mayo","06-19":"Juneteenth","07-04":"Independence Day","08-26":"Women's Equality Day","09-11":"Patriot Day","10-31":"Halloween","11-11":"Veterans Day","12-24":"Christmas Eve","12-25":"Christmas","12-31":"New Year's Eve"},m={"2025-02-17":"Presidents' Day","2025-03-09":"Daylight Saving","2025-04-20":"Easter","2025-05-11":"Mother's Day","2025-05-26":"Memorial Day","2025-06-15":"Father's Day","2025-09-01":"Labor Day","2025-10-13":"Columbus Day","2025-11-02":"Fall Back","2025-11-27":"Thanksgiving","2025-11-28":"Black Friday","2025-12-02":"Cyber Monday","2026-02-16":"Presidents' Day","2026-03-08":"Daylight Saving","2026-04-05":"Easter","2026-05-10":"Mother's Day","2026-05-25":"Memorial Day","2026-06-21":"Father's Day","2026-09-07":"Labor Day","2026-10-12":"Columbus Day","2026-11-01":"Fall Back","2026-11-26":"Thanksgiving","2026-11-27":"Black Friday","2026-11-30":"Cyber Monday"};function g(e){let{onEditPuzzle:t}=e,[r,l]=(0,s.useState)(new Date),[n,d]=(0,s.useState)({}),[i,g]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[y,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{b()},[r]);let b=async()=>{g(!0);try{let e=r.getFullYear(),t=r.getMonth(),a=new Date(e,t,1).toISOString().split("T")[0],s=new Date(e,t+1,0).toISOString().split("T")[0],l=await o.getPuzzlesRange(a,s);l.success&&d(l.puzzles||{})}catch(e){console.error("Failed to load puzzles:",e)}finally{g(!1)}},k=async e=>{if(confirm("Are you sure you want to delete this puzzle?"))try{(await o.deletePuzzle(e)).success&&b()}catch(e){console.error("Failed to delete puzzle:",e)}},j=e=>e?n[new Date(r.getFullYear(),r.getMonth(),e).toISOString().split("T")[0]]:null,v=e=>{if(!e)return!1;let t=new Date;return e===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()};return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow h-full w-full",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>p(!y),className:"text-lg font-medium text-gray-900 dark:text-white hover:text-sky-600 dark:hover:text-sky-400 transition-colors flex items-center gap-2",children:[r.toLocaleDateString("en-US",{month:"long",year:"numeric"}),(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&(0,a.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-50",style:{minWidth:"280px"},children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((e,t)=>(0,a.jsx)("button",{onClick:()=>{let e=new Date(r);e.setMonth(t),l(e),p(!1)},className:"px-3 py-2 rounded text-sm ".concat(r.getMonth()===t?"bg-sky-500 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"),children:e},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",value:r.getFullYear(),onChange:e=>{let t=new Date(r);t.setFullYear(parseInt(e.target.value)),l(t)},min:"2024",max:"2030",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded text-center dark:bg-gray-700 dark:text-white"}),(0,a.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"Done"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>l(new Date),className:"px-3 py-1 text-sm bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300 rounded-lg hover:bg-sky-200 dark:hover:bg-sky-900/50 transition-colors",children:"Today"}),(0,a.jsx)("button",{onClick:()=>{l(new Date(r.getFullYear(),r.getMonth()-1))},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:"←"}),(0,a.jsx)("button",{onClick:()=>{l(new Date(r.getFullYear(),r.getMonth()+1))},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:"→"})]})]})}),i?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading puzzles..."}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-3 mb-3",style:{minWidth:"1050px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"text-center text-xs font-medium text-gray-500 dark:text-gray-400 w-36",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-3",style:{minWidth:"1050px"},children:(()=>{let e=r.getFullYear(),t=r.getMonth(),a=new Date(e,t,1),s=new Date(e,t+1,0).getDate(),l=a.getDay(),n=[];for(let e=0;e<l;e++)n.push(null);for(let e=1;e<=s;e++)n.push(e);return n})().map((e,t)=>{let s=j(e),l=e?new Date(r.getFullYear(),r.getMonth(),e).toISOString().split("T")[0]:"",n=function(e,t){let r={},a=String(t+1).padStart(2,"0");Object.entries(u).forEach(e=>{let[t,s]=e;t.startsWith(a)&&(r[parseInt(t.split("-")[1])]=s)});let s="".concat(e,"-").concat(a);return Object.entries(m).forEach(e=>{let[t,a]=e;t.startsWith(s)&&(r[parseInt(t.split("-")[2])]=a)}),r}(r.getFullYear(),r.getMonth()),d=e?n[e]:null;return(0,a.jsx)("div",{className:"\n                    h-32 w-36 p-2 rounded-lg border overflow-hidden\n                    ".concat(e?"cursor-pointer hover:border-plum":"","\n                    ").concat(v(e)?"border-plum bg-plum/5":"border-gray-200 dark:border-gray-700","\n                    ").concat(s?"bg-green-50 dark:bg-green-900/20":"","\n                    ").concat(d&&!s?"bg-amber-50 dark:bg-amber-900/10":"","\n                  "),onClick:()=>e&&h(s?{...s,date:l}:{date:l}),children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),d&&(0,a.jsx)("div",{className:"text-xs",children:"Christmas"===d?"\uD83C\uDF84":"Halloween"===d?"\uD83C\uDF83":"Valentine's Day"===d?"❤️":"Easter"===d?"\uD83D\uDC30":"Thanksgiving"===d?"\uD83E\uDD83":"Independence Day"===d?"\uD83C\uDF86":"New Year's Day"===d?"\uD83C\uDF8A":"St. Patrick's Day"===d?"☘️":"\uD83C\uDF89"})]}),d&&(0,a.jsx)("div",{className:"text-xs text-amber-700 dark:text-amber-400 mt-1 font-medium",style:{fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d}),s&&(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"11px",lineHeight:"1.3",wordWrap:"break-word"},children:s.theme}),(0,a.jsx)("div",{className:"text-sm mt-1",children:s.puzzles[0].emoji})]})]})},t)})})]}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:[x.theme?"Puzzle Details":"No Puzzle"," - ",(0,c.p6)(x.date,"short")]}),x.theme?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Theme:"}),(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.theme})]}),(0,a.jsx)("div",{className:"space-y-2 mb-6",children:x.puzzles.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e.answer})]},t))}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{t({...x,date:x.date}),h(null)},className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>k(x.date),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"}),(0,a.jsx)("button",{onClick:()=>h(null),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600",children:"Close"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"No puzzle scheduled for this date."}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>{t({date:x.date}),h(null)},className:"flex-1 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700",children:"Create Puzzle"}),(0,a.jsx)("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600",children:"Close"})]})]})]})})]})}var x=r(55156);class h{async getGlobalStats(){try{let e=await fetch(l.Pn.STATS);if(!e.ok)throw Error("Failed to fetch stats: ".concat(e.status));return(await e.json()).stats}catch(e){throw console.error("StatsService.getGlobalStats error:",e),e}}async updateStats(e){try{let t=void 0!==e.isFirstAttempt?e.isFirstAttempt:!e.puzzleDate||!(0,x.W1)(e.puzzleDate),r=(0,x.l8)(e.completed,t,e.isArchive||!1,e.puzzleDate);if(e.isArchive||(0,x.zA)({completed:e.completed,mistakes:e.mistakes,solved:e.solved,time:e.time,won:e.completed}),!e.isArchive){let t=await fetch(l.Pn.PUZZLE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:e.completed,time:e.time||0,mistakes:e.mistakes||0})});t.ok||console.warn("Failed to update server stats:",t.status)}return r}catch(t){return console.error("StatsService.updateStats error:",t),(0,x.l8)(e.completed,!(0,x.W1)(e.puzzleDate||""),e.isArchive||!1,e.puzzleDate)}}async getLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"today";try{let t=await fetch("".concat(l.Pn.STATS,"/leaderboard?period=").concat(e));if(!t.ok)throw Error("Failed to fetch leaderboard: ".concat(t.status));return await t.json()}catch(e){throw console.error("StatsService.getLeaderboard error:",e),e}}}var y=new h;function p(){let[e,t]=(0,s.useState)({played:0,completed:0,views:0,completionRate:0}),[r,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await y.getGlobalStats();t(e)}catch(e){console.error("Failed to load stats:",e)}finally{l(!1)}},d=e=>{let{title:t,value:r,color:s="plum"}=e;return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t}),(0,a.jsx)("div",{className:"mt-2 text-3xl font-bold bg-gradient-to-r from-".concat(s," to-peach bg-clip-text text-transparent"),children:r.toLocaleString()})]})};return r?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Loading statistics..."})}):(0,a.jsxs)("div",{className:"space-y-6 w-full",style:{minWidth:"700px"},children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(d,{title:"Total Views",value:e.views}),(0,a.jsx)(d,{title:"Games Played",value:e.played}),(0,a.jsx)(d,{title:"Games Completed",value:e.completed}),(0,a.jsx)(d,{title:"Completion Rate",value:"".concat(e.completionRate,"%")})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Daily Activity"}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400",children:(0,a.jsx)("p",{children:"Activity chart coming soon..."})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Popular Puzzles"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Weather Patterns"}),(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"89% completion"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Kitchen Items"}),(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"76% completion"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Sports"}),(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"71% completion"})]})]})]})]})}function b(e){let{onClose:t,onSuccess:r}=e,[l,n]=(0,s.useState)(""),[d,i]=(0,s.useState)(new Date().toISOString().split("T")[0]),[c,u]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[x,h]=(0,s.useState)(""),[y,p]=(0,s.useState)(null),b=async()=>{g(!0),h(""),p(null);try{let e;try{e=JSON.parse(l.trim())}catch(e){h("❌ Invalid JSON format. Please check your input."),g(!1);return}if(!Array.isArray(e)){h("❌ Input must be an array of puzzle objects"),g(!1);return}let a=await o.bulkImportPuzzles(e,d,c);a.success?(h("✅ Successfully imported ".concat(a.summary.successful," puzzles!")),p(a),r&&setTimeout(()=>{r(),t()},2e3)):(h("❌ Import failed: ".concat(a.error||"Unknown error")),a.details&&console.error("Import error details:",a.details))}catch(e){h("❌ Error during import: "+e.message),console.error("Import error:",e)}finally{g(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bulk Import Puzzles"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:d,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-sky-500 focus:border-sky-500 dark:bg-gray-700 dark:text-white"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Puzzles will be assigned to available dates starting from this date"})]}),(0,a.jsxs)("div",{className:"flex items-end",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:c,onChange:e=>u(e.target.checked),className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overwrite existing puzzles"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:c?"Will replace existing puzzles":"Will skip dates with existing puzzles"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"JSON Data"}),(0,a.jsx)("button",{type:"button",onClick:()=>{n('[\n  {\n    "theme": "Things That Dissolve",\n    "puzzles": [\n      { "emoji": "\uD83E\uDDC2\uD83D\uDCA7", "answer": "SALT" },\n      { "emoji": "\uD83C\uDF6C\uD83D\uDC45", "answer": "CANDY" },\n      { "emoji": "\uD83D\uDC8A\uD83E\uDD64", "answer": "TABLET" },\n      { "emoji": "\uD83E\uDDCA☀️", "answer": "ICE" }\n    ]\n  },\n  {\n    "theme": "Types of Boundaries",\n    "puzzles": [\n      { "emoji": "\uD83E\uDDF1\uD83C\uDFE0", "answer": "FENCE" },\n      { "emoji": "\uD83C\uDF0A\uD83C\uDFD6️", "answer": "SHORE" },\n      { "emoji": "\uD83D\uDDFA️\uD83D\uDCCD", "answer": "BORDER" },\n      { "emoji": "\uD83D\uDEAB⭕", "answer": "LIMIT" }\n    ]\n  }\n]'),h("Sample data loaded. You can modify it or paste your own.")},className:"text-sm text-sky-600 hover:text-sky-700 transition-colors",children:"Load Sample Data"})]}),(0,a.jsx)("textarea",{value:l,onChange:e=>n(e.target.value),placeholder:"Paste your JSON array of puzzles here...",className:"w-full h-64 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-sky-500 focus:border-sky-500 dark:bg-gray-700 dark:text-white font-mono text-sm",spellCheck:!1}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Expected format: Array of objects with "theme" and "puzzles" properties'})]}),x&&(0,a.jsx)("div",{className:"p-4 rounded-lg ".concat(x.startsWith("✅")?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":x.startsWith("❌")?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400"),children:x}),y&&y.summary&&(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Import Summary"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-300",children:[(0,a.jsxs)("p",{children:["Total puzzles: ",y.summary.total]}),(0,a.jsxs)("p",{children:["Successfully imported: ",y.summary.successful]}),y.summary.failed>0&&(0,a.jsxs)("p",{className:"text-red-600 dark:text-red-400",children:["Failed: ",y.summary.failed]}),(0,a.jsxs)("p",{children:["Date range: ",y.summary.dateRange.start," to ",y.summary.dateRange.end]})]}),y.imported&&y.imported.length>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Imported Puzzles:"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto",children:y.imported.map((e,t)=>(0,a.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.date,": ",e.theme]},t))})]}),y.errors&&y.errors.length>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h4",{className:"font-medium text-red-600 dark:text-red-400 mb-1",children:"Errors:"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto",children:y.errors.map((e,t)=>(0,a.jsxs)("div",{className:"text-xs text-red-600 dark:text-red-400",children:[e.date,": ",e.error]},t))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:b,disabled:m||!l.trim(),className:"px-6 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg hover:shadow-lg transform hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Importing...":"Import Puzzles"})]})]})]})})})}function k(){let[e,t]=(0,s.useState)("calendar"),[r,l]=(0,s.useState)(null),[n,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(0),[u,m]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{m(!0),console.log("AdminDashboard mounted")},[]),console.log("AdminDashboard rendering, showBulkImport:",n,"mounted:",u),(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Puzzle Management"}),u&&(0,a.jsx)("button",{onClick:()=>{console.log("Bulk Import button clicked!"),d(!0)},className:"px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200",style:{backgroundColor:"#0ea5e9"},children:"\uD83D\uDCE4 Bulk Import"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create and manage daily puzzles for Tandem"})]}),(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,a.jsx)("button",{onClick:()=>t("calendar"),className:"\n              py-2 px-1 border-b-2 font-medium text-sm\n              ".concat("calendar"===e?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            "),children:"Calendar View"}),(0,a.jsx)("button",{onClick:()=>t("editor"),className:"\n              py-2 px-1 border-b-2 font-medium text-sm\n              ".concat("editor"===e?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            "),children:"Puzzle Editor"}),(0,a.jsx)("button",{onClick:()=>t("stats"),className:"\n              py-2 px-1 border-b-2 font-medium text-sm\n              ".concat("stats"===e?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n            "),children:"Statistics"})]})}),(0,a.jsxs)("div",{className:"mt-6 min-h-[500px]",children:["calendar"===e&&(0,a.jsx)(g,{onEditPuzzle:e=>{l(e),t("editor")}},o),"editor"===e&&(0,a.jsx)(i,{initialPuzzle:r,onClose:()=>{l(null),t("calendar")}}),"stats"===e&&(0,a.jsx)(p,{})]}),n&&(0,a.jsx)(b,{onClose:()=>d(!1),onSuccess:()=>{c(e=>e+1),t("calendar")}})]})}},44417:function(e,t,r){"use strict";function a(e){return e}r.d(t,{k:function(){return a}})}},function(e){e.O(0,[896,241,971,117,744],function(){return e(e.s=74046)}),_N_E=e.O()}]);