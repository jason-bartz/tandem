(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{34770:function(e,n,t){Promise.resolve().then(t.bind(t,38939))},99376:function(e,n,t){"use strict";var r=t(35475);t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}})},38939:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t(57437),u=t(2265),i=t(99376),o=t(35472),a=t(81560);function s(e){let{children:n}=e,[t,s]=(0,u.useState)(!1),[c,l]=(0,u.useState)(!0),m=(0,i.useRouter)(),d=(0,i.usePathname)(),D="/admin/login"===d||"/admin/debug"===d||"/admin/test"===d;(0,u.useEffect)(()=>{if(D){l(!1);return}h()},[d,D]);let h=async()=>{try{let e=localStorage.getItem("adminToken");if(!e){m.push("/admin/login"),l(!1);return}await o.Z.verifyToken(e)?s(!0):(localStorage.removeItem("adminToken"),m.push("/admin/login"))}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("adminToken"),m.push("/admin/login")}finally{l(!1)}};return D?n:c?(0,r.jsx)("div",{className:"fixed inset-0 w-full h-full flex items-center justify-center",style:{backgroundImage:"url('/images/light-mode-bg.webp')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,r.jsx)(a.Z,{})}):t?(0,r.jsxs)("div",{className:"min-h-screen",style:{backgroundImage:"url('/images/light-mode-bg.webp')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"white"},children:[(0,r.jsx)("nav",{className:"bg-white/95 backdrop-blur-sm shadow-lg border-b border-sky-200",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-sky-500 to-teal-400 bg-clip-text text-transparent",children:"Tandem Admin"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 hover:text-sky-700 font-medium",children:"View Game"}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("adminToken"),m.push("/admin/login")},className:"px-4 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg hover:shadow-lg transition-all font-medium",children:"Logout"})]})]})})}),(0,r.jsx)("main",{className:"py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 min-h-[600px] w-full max-w-7xl mx-auto",style:{minWidth:"1100px"},children:n})})]}):null}},81560:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(57437);function u(){return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin"}),(0,r.jsx)("p",{className:"mt-4 text-white text-lg",children:"Loading puzzle..."})]})}},44417:function(e,n,t){"use strict";function r(e){return e}t.d(n,{k:function(){return r}})},2615:function(e,n,t){"use strict";t.d(n,{I:function(){return u},Pn:function(){return i},mR:function(){return c},p1:function(){return s},sR:function(){return a},th:function(){return r},wp:function(){return o}});let r={MAX_MISTAKES:4,PUZZLE_COUNT:4,MAX_ANSWER_LENGTH:10,START_DATE:"2025-01-01"},u={THEME:"tandemTheme",SOUND:"tandemSound",STATS:"tandemStats",AUTH_TOKEN:"adminToken"},i={PUZZLE:"/api/puzzle",ADMIN_AUTH:"/api/admin/auth",ADMIN_PUZZLES:"/api/admin/puzzles",STATS:"/api/stats"},o={WELCOME:"welcome",PLAYING:"playing",COMPLETE:"complete",ERROR:"error"},a=[{id:"weather",name:"Weather",theme:"Types of Weather",puzzles:[{emoji:"☀️\uD83C\uDF21️",answer:"SUNNY"},{emoji:"☁️\uD83D\uDCA7",answer:"RAIN"},{emoji:"❄️\uD83C\uDF28️",answer:"SNOW"},{emoji:"⚡\uD83D\uDD0A",answer:"THUNDER"}]},{id:"sports",name:"Sports",theme:"Popular Sports",puzzles:[{emoji:"⚽\uD83E\uDD45",answer:"SOCCER"},{emoji:"\uD83C\uDFC0\uD83D\uDDD1️",answer:"BASKETBALL"},{emoji:"\uD83C\uDFBE\uD83C\uDFC6",answer:"TENNIS"},{emoji:"⚾\uD83E\uDDE2",answer:"BASEBALL"}]},{id:"music",name:"Music",theme:"Music Genres",puzzles:[{emoji:"\uD83C\uDFB8\uD83E\uDD18",answer:"ROCK"},{emoji:"\uD83C\uDFBA\uD83C\uDFB7",answer:"JAZZ"},{emoji:"\uD83C\uDFB9\uD83C\uDFBC",answer:"CLASSICAL"},{emoji:"\uD83C\uDFA4\uD83C\uDFB5",answer:"POP"}]},{id:"food",name:"Food",theme:"Popular Foods",puzzles:[{emoji:"\uD83C\uDF55\uD83C\uDDEE\uD83C\uDDF9",answer:"PIZZA"},{emoji:"\uD83C\uDF54\uD83C\uDF5F",answer:"BURGER"},{emoji:"\uD83C\uDF63\uD83C\uDDEF\uD83C\uDDF5",answer:"SUSHI"},{emoji:"\uD83C\uDF2E\uD83C\uDDF2\uD83C\uDDFD",answer:"TACO"}]},{id:"kitchen",name:"Kitchen",theme:"Things found in a kitchen",puzzles:[{emoji:"\uD83C\uDF73\uD83D\uDD25",answer:"STOVE"},{emoji:"❄️\uD83D\uDCE6",answer:"FRIDGE"},{emoji:"\uD83C\uDF5E\uD83D\uDD25",answer:"TOASTER"},{emoji:"☕⚡",answer:"COFFEE"}]}],s={ENABLED:!0,VOLUME:.3,SOUNDS:{CORRECT:{frequencies:[523.25,659.25,783.99],duration:.3},INCORRECT:{frequencies:[196,174.61],duration:.2},COMPLETE:{frequencies:[523.25,659.25,783.99,1046.5],duration:.5}}},c={LIGHT:"light",DARK:"dark",DEFAULT:"light"}},35472:function(e,n,t){"use strict";var r=t(2615),u=t(44417);class i{async login(e,n){try{let t=await fetch((0,u.k)(r.Pn.ADMIN_AUTH),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})}),i=await t.json();if(t.ok&&i.success)return{success:!0,token:i.token,user:i.user};return{success:!1,error:i.error||"Login failed"}}catch(e){throw console.error("AuthService.login error:",e),e}}async verifyToken(e){try{let n=await fetch((0,u.k)(r.Pn.ADMIN_AUTH),{headers:{Authorization:"Bearer ".concat(e)}});if(n.ok){let e=await n.json();return!0===e.valid}return!1}catch(e){return console.error("AuthService.verifyToken error:",e),!1}}logout(){localStorage.removeItem("adminToken")}getToken(){return localStorage.getItem("adminToken")}isAuthenticated(){return null!==this.getToken()}}n.Z=new i}},function(e){e.O(0,[971,117,744],function(){return e(e.s=34770)}),_N_E=e.O()}]);